/////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////
//  ECE Dep. University of Thessaly                                            //             
//  CE 321 OS                                                                  //              
//                                                                             //
//  Project 2                                                                  //       
//                                                                             //     
//  Charalampos Patsianotakis 2116 cpatsianotakis@uth.gr                       //   
//  Panagiotis  Anastasiadis  2134 paanastasiadis@uth.gr                       //       
//  Tilemachos  Tsiapras      2229 ttsiapras@uth.gr                            //       
//                                                                             //       
/////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////


////-----------------------Περιγραφή Εκτέλεσης Εργασίας----------------------////

Για την εκτέλεση της εργασίας, ισχύει το εξής format από arguments:
	-> Όνομα εκτελέσιμου “sjf_sched”
	-> Όνομα profile

Η εκτέλεση της της εντολής παράγει ένα αρχείο “TimingResults.txt στο οποίο μέσα
υπάρχουν για κάθε διεργασία οι εξής τιμές:
	-> Χρόνος Αναμονής
	-> Χρόνος Διεκπεραίωσης
	-> Χρόνος Εκτέλεσης

Παράδειγμα εκτέλεσης:
	./sjf_sched simple.conf 

Παράδειγμα αρχείου εξόδου:
   [Task ,Execution Time ,Total ProcessTime ,Waiting Time]
   [(Papakia:1) , 160 , 350 , 190]
   [(Vatraxakia:2) , 150 , 1050 , 900]


////----------------------------Profile Ανάλυση------------------------------////


Profile1:
 _______________________________________________
|                   |   SJF   | SJF(+Goodness)  |
|-------------------|---------|-----------------|
| Mean Process Time |   4107  |       3598      |
|-------------------|---------|-----------------|
| Mean Waiting Time |   3425  |       3040      |
|___________________|_________|_________________| 


	Περιγραφή: 
	->Περιέχει μόνο non interactive διεργασίες.
	->Στην αρχή εισέρχεται μια διεργασία μεγάλης διάρκειας (όνομα: ΑΑΑ).
	->Εκτελούνται πολλές διεργασίες που κάνουν spawn ανά μικρά χρονικά
      διαστήματα (Περίπου όσο ένα jffy). 

	SJF: 
	Παρατηρούμε ότι η ΑΑΑ από τη χρονική στιγμή που ξεκινά το spawning
	των μικρότερων διεργασιών, χάνει την CPU και την αποκτά ξανά μετά
	από αρκετά μεγάλο χρονικό διάστημα Αυτό εξηγείται στο γεγονός ότι
	αρχικά η ΑΑΑ εκτελέστηκε μόνη της ανεβάζοντας έτσι την τιμή του
	expected burst. Συνεπώς, όταν έρθουν οι καινουργιες διεργασίες,
	η ΑΑΑ δεν παίρνει τον επεξεργαστή αφού οι διεργασίες, με τις νέες
	διεργασίες να εναλλάσσονται μεταξύ τους και να αυξάνουν τα δικά τους
	expected burst, εώς ότου φτάσουν στην τιμή της ΑΑΑ.

	SJF (+ goodness):  
	Στην συγκεκριμένη περίπτωση, η ΑΑΑ δεν θα παραμείνει ανενεργή για
	μεγάλο χρονικό διάστημα, αφού η ΑΑΑ παραμένοντας στο Ready Queue μειώνει
	την τιμήτου Goodnes, και αυξάνει τις πιθανότητες της για να ξαναπάρει
	τον επεξεργαστή.



Profile2:
 _______________________________________________
|                   |   SJF   | SJF(+Goodness)  |
|-------------------|---------|-----------------|
| Mean Process Time |   8787  |       8481      |
|-------------------|---------|-----------------|
| Mean Waiting Time |   7255  |       7054      |
|___________________|_________|_________________|

	Περιγραφή:
	->Περιέχει μόνο interactive διεργασίες.
	->Οι διεργασίες κάνουν spawn σε τυχαία χρονικά διαστήματα.

	SJF (+ goodness):
	Θεωρούμε χαρακτηριστικό χρονικό σημείο, εκείνο όπου εμφανίζονται
	4 διεργασίες ( και παρόλο το γεγονός ότι έχουν πολύ σύντομα expected
	bursts εξαιτιας της interactive φύση τους ) δεν παίρνει καμία από αυτές
	την CPU. Αυτό συμβαίνει γιατί στο ready queue υπάρχουν ήδη διεργασίες
	που έχουν χαμηλότερο goodness, λόγω της αναμονής τους στην ουρά.

////////////////////////////////////////////////////////////////////////////////////////////////////
|                                                                                                  | 
|	Για την παρουσίαση του αναφερόμενου γεγονότος, παρουσιάζεται                                   |                        
|	το αντίστοιχο μήνυμα στο τερματικό:                                                            | 
////////////////////////////////////////////////////////////////////////////////////////////////////
|	--------------------------------------------------------------------------                     |
|	[0m(AAA:7)/5/9009ms - Switching Process In                                                     |                       
|                                                                                                  |
|	###-An Interrupt has fired!-###                                                                |    
|	    (CCC:6)/5/9037ms - Waking Up from Sleep                                                    |
|	    (EEE:1):(EEE++child:4)/5/9037ms - Waking Up from Sleep                                     |         
|	    (DDD:5)/5/9037ms - Waking Up from Sleep                                                    |       
|                                                                                                  |
|	In schedule                                                                                    |       
|	Rq:                                                                                            |
|	(Init:0), (DDD:5), (EEE:1):(EEE++child:4), (CCC:6), (AAA:7), (EEE:1):(EEE++child2:2), (EEE:1)  |
|	[36m=================================================================                          |
|	Current: Saved Exp Burst = 47ms                                                                |    
|	Current: Temp Exp Burst = 29ms, Temp Burst = 20ms                                              |
|	Exp.Bursts...                                                                                  |
|	   . . .                                                                                       |
|	[36mSwitch:[31m (AAA:7)[36m ==>[[31m(EEE:1)[36m], CHOSEN EXP_BURST IS [45ms] <==               |    
|	--------------------------------------------------------------------------                     |
|                                                                                                  | 
////////////////////////////////////////////////////////////////////////////////////////////////////

	SJF:
	Αντίθετα στην υλοποίηση του αλγορίθμου χωρίς το goodness, στο χρονικό
	σημείο που κάνουν spawn οι συγκεκριμένες διεργασίες, διαλέγεται μια από
	αυτές για να πάρει τον επεξεργαστή. 



Profile3:
 _______________________________________________
|                   |   SJF   | SJF(+Goodness)  |
|-------------------|---------|-----------------|
| Mean Process Time |   8695  |       8481      |
|-------------------|---------|-----------------|
| Mean Waiting Time |   7204  |       7052      |
|___________________|_________|_________________|

	Περιγραφή: 
	->Περιέχει και interactive και non-interactive διεργασίες.
	->Οι διεργασίες κάνουν spawn σε τυχαία χρονικά διαστήματα.






////---------------------------Επιπλέον Σημειώσεις---------------------------////

	Έγιναν μικρές αλλαγές στο αρχείο cpu.c για την εξαγωγή του αρχείου με 
	τους χρόνους. Επίσης παρατηρήθηκε ότι σε ορισμένους υπολογιστές της ομάδας,
	για κάποιες τιμές time_slice, κατά το πέρας του προγράμματος παραγόταν
	segmentation fault το οποίο εντοπίστηκε ότι οφειλόταν στην απελευθέρωση
	της init κατά την εκτέλεση του killtask() και στην προσπάθεια επαναπροσπέλασης
	της στην if (!init->thread_info->kill && TICKS_TO_MS….) στη συνάρτηση runcpu().
	Για το λόγο αυτό προστέθηκε μια απλή if όπου εμποδίζταιι η απελευθέρωση της.    